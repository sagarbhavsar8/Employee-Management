@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
}

<div class="form-signin">
    <h1 class="h3 mb-3 font-weight-normal">Please register</h1>
    <form class="needs-validation" action="/account/register" novalidate="novalidate" method="post" name="registerForm">
        @Html.AntiForgeryToken()
        <div class="form-group">
            <label for="txtFirstName">First Name</label>
            <input id="txtFirstName" name="Firstname" type="text" autofocus="autofocus" placeholder="First Name" class="form-control" required="required" pattern="[a-zA-Z]*$"/>
            <div class="valid-feedback">
                Looks Good!
            </div>
            <div class="invalid-feedback">
                Please enter First Name
            </div>
        </div>
        <div class="form-group">
            <label for="txtLastName">Last Name</label>
            <input id="txtLastName" name="Lastname" type="text" autofocus="autofocus" placeholder="Last Name" class="form-control" required="required" pattern="[a-zA-Z]*$" />
            <div class="valid-feedback">
                Looks Good!
            </div>
            <div class="invalid-feedback">
                Please enter Last Name
            </div>
        </div>
        <div class="form-group">
            <label for="txtMobile">Mobile</label>
            <input id="txtMobile" name="Mobile" type="number" autofocus="autofocus" placeholder="Mobile" class="form-control" required="required" pattern="^[789]\d{9}$"/>
            <div class="valid-feedback">
                Looks Good!
            </div>
            <div class="invalid-feedback">
                Please enter mobile number
            </div>
        </div>
        <div class="form-group">
            <label for="txtEmail">Email</label>
            <input id="txtEmail" name="Email" type="email" autofocus="autofocus" placeholder="Email address" class="form-control" required="required" />
            <div class="valid-feedback">
                Looks Good
            </div>
            <div class="invalid-feedback">
                Please enter correct email
            </div>
        </div>
        <div class="form-group">
            <label for="txtPassword">Password</label>
            <input id="txtPassword" name="Password" type="password" placeholder="Password" class="form-control" required="required" 
                   oninput="form.Confirmpassword.pattern = escapeRegExp(this.value)"/>
            <div class="valid-feedback">
                Looks Good
            </div>
            <div class="invalid-feedback">
                Please enter password
            </div>
        </div>
        <div class="form-group">
            <label for="txtConfirmpassword">Confirm Password</label>
            <input id="txtConfirmpassword" name="Confirmpassword" type="password" placeholder="Confirm Password" class="form-control" required="required" />
            <div class="valid-feedback">
                Looks Good
            </div>
            <div class="invalid-feedback">
                Please enter Confirm Password
            </div>
        </div>
        <button class="btn btn-lg btn-primary btn-block" type="submit">Register</button>
    </form>
    @Html.ValidationSummary()
</div>
<script>
    $(document).on("submit", ".needs-validation", validate);
    $(".needs-validation input").blur(validate);
    function validate(event) {
        if ($(".needs-validation")[0].checkValidity() == false || $(".email-exist").text() != "") {
            event.preventDefault();
        }
        $(".needs-validation")[0].classList.add("was-validated");
    }
    function escapeRegExp(str) {
        return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
    }
</script>

